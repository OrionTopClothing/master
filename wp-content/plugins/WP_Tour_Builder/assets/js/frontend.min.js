
var fhpc_selectionMode=false;var fhpc_adminMode=false;var bounceTimer;var fhpc_timer;var documentBody;var fhpc_selectedElement=false;fhpc_username=fhpc_username[0];fhpc_postID=fhpc_postID[0];var fhpc_isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(fhpc_isMobile.Android()||fhpc_isMobile.BlackBerry()||fhpc_isMobile.iOS()||fhpc_isMobile.Opera()||fhpc_isMobile.Windows())}};jQuery(document).ready(function(){sessionStorage.setItem("fhpc_username",fhpc_username.toString().toLowerCase());if(sessionStorage.getItem("fhpc_username")&&sessionStorage.getItem("fhpc_username")!=""){jQuery.each(helpers,function(){jQuery.each(this.items,function(){if(this.page.indexOf("USERNAME")>0&&sessionStorage.getItem("fhpc_username")!=""){this.page=this.page.replace("USERNAME",sessionStorage.getItem("fhpc_username"))}});if(this.page.indexOf("USERNAME")>0&&sessionStorage.getItem("fhpc_username")!=""){this.page=this.page.replace("USERNAME",sessionStorage.getItem("fhpc_username"))}})}if(typeof(fhpc_postID)!=="undefined"&&fhpc_postID!=""){jQuery.each(helpers,function(){jQuery.each(this.items,function(){if(this.page.indexOf("POSTID")>0&&fhpc_postID!=""){this.page=this.page.replace("POSTID",fhpc_postID)}});if(this.page.indexOf("POSTID")>0&&fhpc_postID!=""){this.page=this.page.replace("POSTID",fhpc_postID)}})}});jQuery(window).load(function(){fhpc_initAssistants()});function fhpc_isIframe(){try{return window.self!==window.top}catch(a){return true}}function fhpc_initAssistants(){documentBody="html,body";if(window.parent&&(window.parent.document.getElementById("fhpc_selectDomFrame"))){}else{if(fhpc_isIframe()&&jQuery(".estimationForm_frameSC",window.parent.document).length>0){}else{fhpc_initHelpers()}}jQuery("body *").click(fhpc_clickItem);jQuery(window).resize(function(){jQuery("#fhpc_overlay").attr({width:jQuery(document).outerWidth(),height:jQuery(document).outerHeight()}).css({width:jQuery(document).outerWidth(),height:jQuery(document).outerHeight()})})}function fhpc_clickItem(b,c){if(fhpc_selectionMode){var a;if(!c){a=this;b.preventDefault()}else{a=b}if(jQuery(a).is("option")){}else{if(jQuery(a).children().length==0||jQuery(a).is("img")||jQuery(a).is("a")||jQuery(a).is("button")||jQuery(a).is("select")||jQuery(a).is("iframe")||jQuery(a).is(".mce-tinymce")){fhpc_selectedElement=true;if(jQuery(a).is("a")&&jQuery(a).find("img").length>0){jQuery(a).find("img").addClass("fhpc_selectedElement");jQuery(".fhpc_selectedElement").not(jQuery(a).find("img")).removeClass("fhpc_selectedElement");window.parent.fhpc_itemSelected(jQuery(a).find("img").get(0))}else{jQuery(a).addClass("fhpc_selectedElement");jQuery(".fhpc_selectedElement").not(jQuery(a)).removeClass("fhpc_selectedElement");window.parent.fhpc_itemSelected(a)}}}}}function fhpc_isAnyParentFixed(a,b){if(!b){var b=false}if(a.closest(".x-sidebar").length>0){b=true}try{if(a.parent().length>0&&a.parent().css("position")=="fixed"){b=true}}catch(c){}if(!b&&a.parent().length>0){b=fhpc_isAnyParentFixed(a.parent(),b)}return b}function fhpc_initHelpers(){var chkHelper=false;var chkHelperExist=false;if(localStorage.getItem("helper")){jQuery.each(helpers,function(i){var helper=helpers[i];if(fhpc_isMobile.any()&&helper.mobileEnabled=="0"){}else{if((fhpc_isMobile.any()===null||!fhpc_isMobile.any())&&helper.onlyMobile=="1"){}else{var url=document.location.href;if(url.indexOf("#")>0){url=document.location.href.substr(0,document.location.href.lastIndexOf("#"))}if(siteurl.substr(siteurl.length-1,1)!="/"){siteurl+="/"}if(fhpc_username==""){url=url.replace("USERNAME",fhpc_username)}if((parseInt(helper.id)==parseInt(localStorage.getItem("helper")))&&(helper.items[parseInt(localStorage.getItem("itemIndex"))])&&(helper.items[parseInt(localStorage.getItem("itemIndex"))].page==""||siteurl+helper.items[parseInt(localStorage.getItem("itemIndex"))].page==url||(helper.items[parseInt(localStorage.getItem("itemIndex"))].page.indexOf("[ANY]")>-1&&url.indexOf(helper.items[parseInt(localStorage.getItem("itemIndex"))].page.replace("[ANY]",""))==0))){chkHelperExist=helper}}}})}if(chkHelperExist){chkHelper=true;fhpc_startItem(chkHelperExist,parseInt(localStorage.getItem("itemIndex")))}jQuery.each(helpers,function(i){var helper=helpers[i];if(fhpc_isMobile.any()&&helper.mobileEnabled=="0"){}else{if((fhpc_isMobile.any()===null||!fhpc_isMobile.any())&&helper.onlyMobile=="1"){}else{var url=document.location.href;if(url.indexOf("#")>0){url=document.location.href.substr(0,document.location.href.lastIndexOf("#"))}if(url.indexOf("/index.php")>0){url=url.substr(0,url.lastIndexOf("/"))}if(helper.page.indexOf("index.php")>0){helper.page=helper.page.substr(0,helper.page.lastIndexOf("/"))}helper.page=siteurl+helper.page;if(fhpc_username==""){helper.page=helper.page.replace("USERNAME",fhpc_username)}if(helper.page==siteurl||helper.page==url||helper.page+"/"==url||helper.page==url+"/"||(helper.page.indexOf("[ANY]")>-1&&url.indexOf(helper.page.replace("[ANY]",""))==0)){if((helper.onAdmin==1&&document.location.href.indexOf("wp-admin")<0)||(helper.onAdmin==0&&document.location.href.indexOf("wp-admin")>0)){}else{if(helper.start=="auto"&&!chkHelperExist){if(helper.items.length>0){if(helper.onceTime==1){eval("if(!localStorage.getItem('once"+helper.id+"')){ localStorage.setItem('once"+helper.id+"','1');chkHelper = true;fhpc_startHelper(helper); }")}else{chkHelper=true;fhpc_startHelper(helper)}}}else{if(jQuery(helper.domElement).length>0){jQuery(helper.domElement).attr("data-helper",helper.id);jQuery(helper.domElement).click(function(e){e.preventDefault();fhpc_startHelper(fhpc_getHelperByID(jQuery(this).attr("data-helper")))})}}}}}}});if(!chkHelper){localStorage.removeItem("helper");localStorage.removeItem("itemIndex")}}function fhpc_getHelperByID(b){var a=false;jQuery.each(helpers,function(c){var d=helpers[c];if(d.id==b){a=d}});return a}function fhpc_startHelper(a){localStorage.setItem("helper",a.id);localStorage.setItem("itemIndex",0);fhpc_startItem(a,0)}function fhpc_createOverlay(a,b){jQuery("body").append('<canvas id="fhpc_overlay"></canvas>');jQuery("#fhpc_overlay").attr({width:jQuery(document).outerWidth(),height:jQuery(document).outerHeight()}).css({width:jQuery(document).outerWidth(),height:jQuery(document).outerHeight()});var c=jQuery('<a href="javascript:" id="fhpc_closeHelperBtn"><span class="fui-cross"></span></a>');c.click(function(){var d=fhpc_getHelperByID(localStorage.getItem("helper"));fhpc_stopHelper(jQuery(".fhpc_item"),d)});c.hide();jQuery("body").append(c)}function fhpc_isCanvasSupported(){var a=document.createElement("canvas");return !!(a.getContext&&a.getContext("2d"))}var fhpc_initialOverflow="auto";function fhpc_startItem(f,c){var e=f.items[c];var a=false;localStorage.setItem("itemIndex",c);if(e.page!=""&&siteurl+e.page!=document.location.href&&siteurl+e.page!=document.location.href+"/"&&siteurl+e.page+"/"!=document.location.href&&siteurl+e.page+"#"!=document.location.href&&(e.page.indexOf("[ANY]")==-1||document.location.href.indexOf(e.page.replace("[ANY]",""))==-1)){var d=false;var b=document.location.href;if(b.indexOf("#")>-1){b=b.substr(0,b.length-b.indexOf("#"));b=b.replace("#","")}var h=e.page;if(e.page.indexOf("#")>-1){h=e.page.substr(0,e.page.indexOf("#"));h=h.replace("#","")}if(siteurl+h==b){d=true;document.location.href=siteurl+e.page;setTimeout(function(){fhpc_startItem(f,c)},1000)}if(!d){document.location.href=siteurl+e.page}}else{fhpc_initialOverflow=jQuery("body").css("overflowY");jQuery("body").css({overflowY:"hidden"});if(e.type=="tooltip"&&e.domElement!=""&&jQuery(e.domElement).length==0){fhpc_nextItem(a,f,c)}else{jQuery("#fhpc_overlay,#fhpc_closeHelperBtn").fadeOut(1000);if(jQuery("#fhpc_overlay").length==0){setTimeout(function(){fhpc_createOverlay()},e.delayStart*1000)}if(e.overlay==1&&e.closeHelperBtn==1){setTimeout(function(){jQuery("#fhpc_closeHelperBtn").delay(400).fadeIn(1000)},e.delayStart*1000)}setTimeout(function(){if(fhpc_isCanvasSupported()){var i=jQuery("#fhpc_overlay").get(0).getContext("2d");i.clearRect(0,0,jQuery("#fhpc_overlay").width(),jQuery("#fhpc_overlay").height());i.globalCompositeOperation="source-over";if(e.type=="tooltip"&&e.domElement!=""&&jQuery(e.domElement).length>0){i.fillStyle="#FFFFFF";i.globalCompositeOperation="source-over";if(fhpc_isAnyParentFixed(jQuery(e.domElement))||jQuery(e.domElement).css("position")=="fixed"){i.fillRect(jQuery(e.domElement).offset().left-5,jQuery(e.domElement).offset().top-5-jQuery(e.domElement).scrollTop(),jQuery(e.domElement).outerWidth()+10,jQuery(e.domElement).outerHeight()+10)}else{i.fillRect(jQuery(e.domElement).offset().left-5,jQuery(e.domElement).offset().top-5,jQuery(e.domElement).outerWidth()+10,jQuery(e.domElement).outerHeight()+10)}i.globalCompositeOperation="source-out"}else{jQuery("#fhpc_overlay").css({backgroundColor:"#000000"})}i.fillStyle="#000000";i.fillRect(0,0,jQuery("#fhpc_overlay").width(),jQuery("#fhpc_overlay").height());jQuery(window).resize(function(){if(e.type=="tooltip"&&e.domElement!=""&&jQuery(e.domElement).length>0){i.fillStyle="#FFFFFF";i.globalCompositeOperation="source-over";if(fhpc_isAnyParentFixed(jQuery(e.domElement))||jQuery(e.domElement).css("position")=="fixed"){i.fillRect(jQuery(e.domElement).offset().left-5,jQuery(e.domElement).offset().top-5-jQuery(e.domElement).scrollTop(),jQuery(e.domElement).outerWidth()+10,jQuery(e.domElement).outerHeight()+10)}else{i.fillRect(jQuery(e.domElement).offset().left-5,jQuery(e.domElement).offset().top-5,jQuery(e.domElement).outerWidth()+10,jQuery(e.domElement).outerHeight()+10)}i.globalCompositeOperation="source-out";i.fillStyle="#000000";i.fillRect(0,0,jQuery("#fhpc_overlay").width(),jQuery("#fhpc_overlay").height())}})}},e.delayStart*1000);jQuery("html,body").css({overflowY:fhpc_initialOverflow});if(e.type=="tooltip"&&e.domElement!=""&&jQuery(e.domElement).length>0){if(e.overlay==1){setTimeout(function(){jQuery("#fhpc_overlay").fadeIn(1000)},e.delayStart*1000)}if(fhpc_isAnyParentFixed(jQuery(e.domElement))||jQuery(e.domElement).css("position")=="fixed"){jQuery(documentBody).animate({scrollTop:0},500);jQuery("html,body").css({overflowY:"hidden"})}else{jQuery(documentBody).animate({scrollTop:jQuery(e.domElement).offset().top-200},500)}$container=jQuery('<div class="fhpc_container">&nbsp;</div>');jQuery(window).resize(function(){$container.css({position:"absolute",zIndex:999999,left:jQuery(e.domElement).offset().left,top:jQuery(e.domElement).offset().top,width:jQuery(e.domElement).outerWidth(),height:jQuery(e.domElement).outerHeight()})});setTimeout(function(){$container.css({position:"absolute",backgroundColor:"transparent",zIndex:999999,left:jQuery(e.domElement).offset().left,top:jQuery(e.domElement).offset().top,width:jQuery(e.domElement).outerWidth(),height:jQuery(e.domElement).outerHeight()})},e.delayStart*1000);if(e.actionNeeded=="click"){$container.css({cursor:"pointer"});$container.click(function(){jQuery(e.domElement).trigger("click-fhpc")})}jQuery("body").append($container)}else{if(e.overlay==1){setTimeout(function(){jQuery("#fhpc_overlay").fadeIn(1000)},e.delayStart*1000)}}if(e.type=="tooltip"){a=jQuery('<div class="fhpc_tooltip" data-position="'+e.position+'"></div>');$itemContainer=jQuery('<div class="fhpc_tooltip_container"></div>');a.append($itemContainer);e.content=e.content.replace("\n","<br/>");$itemContainer.append('<div class="fhpc_content">'+e.content+"</div>");a.prepend('<div class="fhpc_arrow"></div>');if(e.actionNeeded=="click"){a.css("cursor","pointer");a.click(function(){jQuery(e.domElement).trigger("click-fhpc")})}if(e.domElement&&jQuery(e.domElement).length>0){jQuery(window).resize(function(){if(jQuery(e.domElement).length>0){a.css({left:jQuery(e.domElement).offset().left,top:jQuery(e.domElement).offset().top})}});a.css({left:jQuery(e.domElement).offset().left,top:jQuery(e.domElement).offset().top});jQuery("body").append(a);if(e.position=="top"){jQuery(window).resize(function(){var i=parseInt(a.css("left"))+jQuery(e.domElement).outerWidth()/2-(a.width()/2);if(i<0){i=0}if(i+a.outerWidth()>jQuery(window).width()){i=0}a.css({top:parseInt(a.css("top"))-(a.height()+20),left:i})});var g=parseInt(a.css("left"))+jQuery(e.domElement).outerWidth()/2-(a.width()/2);if(g<0){g=0}if(g+a.outerWidth()>jQuery(window).width()){g=0}setTimeout(function(){bounceTooltip(a)},e.delayStart*1000);setTimeout(function(){a.css({left:jQuery(e.domElement).offset().left,top:jQuery(e.domElement).offset().top});a.css({top:parseInt(a.css("top"))-(a.height()+20),left:g});a.fadeIn(500)},e.delayStart*1000)}else{if(e.position=="bottom"){jQuery(window).resize(function(){var i=parseInt(a.css("left"))+jQuery(e.domElement).outerWidth()/2-(a.width()/2);if(i<0){i=0}if(i+a.outerWidth()>jQuery(window).width()){i=0}a.css({top:parseInt(a.css("top"))+jQuery(e.domElement).outerHeight()+20,left:i})});var g=parseInt(a.css("left"))+jQuery(e.domElement).outerWidth()/2-(a.width()/2);if(g<0){g=0}if(g+a.outerWidth()>jQuery(window).width()){g=0}setTimeout(function(){bounceTooltip(a)},e.delayStart*1000);setTimeout(function(){a.css({left:jQuery(e.domElement).offset().left,top:jQuery(e.domElement).offset().top});a.css({top:parseInt(a.css("top"))+jQuery(e.domElement).outerHeight()+20,left:g});a.fadeIn(500)},e.delayStart*1000)}}}}else{if(e.type=="dialog"){a=jQuery('<div class="fhpc_dialog"></div>');$close=jQuery('<a href="javascript:" class="fhpc_close fui-cross"></a>');$close.click(function(){fhpc_stopHelper(a,f)});a.prepend($close);a.append("<h3>"+e.title+"</h3>");a.append('<div class="fhpc_content">'+e.content+"</div>");a.append('<div class="fhpc_btns" style="text-align:center;"></div>');if(e.btnContinue!=""){$btn=jQuery('<a href="javascript:"  class="fhpc_button">'+e.btnContinue+"</a>");$btn.click(function(){fhpc_nextItem(a,f,c)});a.children(".fhpc_btns").append($btn)}if(e.btnStop!=""){$btnS=jQuery('<a href="javascript:"  class="fhpc_button fhpc_button_stop">'+e.btnStop+"</a>");$btnS.click(function(){fhpc_stopHelper(a,f)});a.children(".fhpc_btns").append($btnS)}jQuery("body").append(a);a.css({opacity:0});a.show();jQuery(window).resize(function(){a.css({marginLeft:0-a.outerWidth()/2,marginTop:0-a.outerHeight()/2})});a.css({left:"50%",top:-500,opacity:0,marginLeft:0-a.outerWidth()/2,marginTop:0-a.outerHeight()/2});a.animate({top:"50%",opacity:1},500)}else{if(e.type=="text"){a=jQuery('<div class="fhpc_text"></div>');$title=jQuery("<h2>"+e.title+"</h2>");$content=jQuery("<div>"+e.content+"</div>");a.append($title);a.append($content);jQuery("body").append(a);a.css({marginTop:0-a.height()/2});a.hide();a.fadeIn(500);$title.hide().delay(1000).fadeIn(1000);$content.hide().delay(2000).fadeIn(1000);setTimeout(function(){jQuery("#fhpc_overlay").animate({opacity:0.9},1000)},1000)}}}a.addClass("fhpc_item");if(e.actionNeeded=="click"){jQuery(e.domElement).unbind("click-fhpc");jQuery(e.domElement).bind("click-fhpc",function(){fhpc_nextItem(a,f,c);jQuery(e.domElement).unbind("click-fhpc")});jQuery(e.domElement).click(function(){jQuery(this).trigger("click-fhpc")})}else{fhpc_timer=setTimeout(function(){fhpc_nextItem(a,f,c)},(e.delay*1000)+(e.delayStart*1000))}}}}function bounceTooltip(a){if(a.length>0){if(a.is('[data-position="bottom"]')){setTimeout(function(){a.animate({top:a.position().top+20},200,function(){a.animate({top:a.position().top-20},200,function(){a.animate({top:a.position().top+20},200,function(){a.animate({top:a.position().top-20},200,function(){a.animate({top:a.position().top+20},200,function(){a.animate({top:a.position().top-20},200);bounceTimer=setTimeout(function(){bounceTooltip(a)},3000)})})})})})})}else{setTimeout(function(){a.animate({top:a.position().top-20},200,function(){a.animate({top:a.position().top+20},200,function(){a.animate({top:a.position().top-20},200,function(){a.animate({top:a.position().top+20},200,function(){a.animate({top:a.position().top-20},200,function(){a.animate({top:a.position().top+20},200);bounceTimer=setTimeout(function(){bounceTooltip(a)},3000)})})})})})})}}else{clearTimer(bounceTimer)}}function fhpc_changeSelectionMode(a){fhpc_selectionMode=a;if(a){fhpc_selectedElement=false}}function fhpc_nextItem(a,d,b){if(a){if(fhpc_timer){clearTimeout(fhpc_timer)}if(a.is(".fhpc_dialog")){a.animate({top:-500,opacity:0},800)}else{a.fadeOut(1000)}setTimeout(function(){a.remove()},1500)}jQuery("#fhpc_closeHelperBtn").fadeOut(500);jQuery("#fhpc_overlay").delay(200).fadeOut(700);setTimeout(function(){jQuery("html,body").css({overflowY:fhpc_initialOverflow});jQuery(".fhpc_container").remove();jQuery("#fhpc_overlay,#fhpc_closeHelperBtn").remove()},750);var c=b+1;if(d.items[c]){localStorage.setItem("itemIndex",c);setTimeout(function(){fhpc_startItem(d,c)},800)}else{localStorage.removeItem("helper");localStorage.removeItem("itemIndex")}}function fhpc_stopHelper(a,b){localStorage.removeItem("helper");localStorage.removeItem("itemIndex");if(fhpc_timer){clearTimeout(fhpc_timer)}if(a.is(".fhpc_dialog")){a.animate({top:-500,opacity:0},500)}else{a.fadeOut(500)}setTimeout(function(){a.remove();jQuery("html,body").css({overflowY:fhpc_initialOverflow})},1500);jQuery("#fhpc_closeHelperBtn").fadeOut(500);jQuery("#fhpc_overlay").fadeOut(1000);setTimeout(function(){jQuery(".fhpc_container").remove();jQuery("#fhpc_overlay,#fhpc_closeHelperBtn").remove();localStorage.removeItem("helper");localStorage.removeItem("itemIndex")},1100)};